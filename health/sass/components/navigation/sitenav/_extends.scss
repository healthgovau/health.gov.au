// Navbar
//
// A simple method to get navigation links to appear in one line.
//
// Markup: navbar.twig
//
// Style guide: navigation.navbar

.region-navigation {

  // Main menu.
  #block-superfish-1 {
    @extend %uikit-sitenav;

    margin-top: -6px; // Keyline fix for mobile.

    // uikit-sitenav makes the links block for contextual links, they need to be hidden by default.
    ul.contextual-links {
      display: none;
    }

    @include uikit-media(sm) {
      border-bottom: 0;
      margin-top: 0;
      ul li a {
        border-bottom: 6px solid transparent;
      }
      display: block;
    }
  }

  // Toggles for main menu and search.
  .mobile-toggle {
    @extend %uikit-sitenav__mobile-toggle;
    margin-bottom: 6px; // Keyline fix for mobile.

    // Main menu.
    &.mobile-toggle--main-menu {
      text-align: left;
      .mobile-toggle__label {
        @extend %baseicon;
        margin-left: 28px;
        &:before {
          font-size: 22px;
          content: "\f0c9";
          margin-left: -1.2em;
        }
      }
    }

    // Search.
    &.mobile-toggle--search {
      text-align: right;
      .mobile-toggle__label {
        @extend %baseicon;
        &:before {
          font-size: 22px;
          content: "\f002";
          margin-left: -1.2em;
        }
      }
    }

    // When expanded.
    &.uikit-accordion--open {
      .mobile-toggle__label {
        &:before {
          content: "\f00d";
        }
      }
    }
  }

  // Keyline across nav items.
  position: relative;
  z-index: 500;
  box-shadow: 0 -6px #cccccc inset;
}

// Overlay
.nav-overlay {
  @extend %uikit-sitenav-overlay;
}

// Make sure the header and menu is above the overlay.
header, .header-top {
  position: relative;
  z-index: 500;
}

// Section header tweak mobile breadcrumbs
.section-title {
  [class*="fa-"]:before {
    margin-left: -0.9em;
  }
}