!function(t,e,i,n){"use strict";e.behaviors.ajaxAlert={attach:function(e,i){if("undefined"!=typeof Vue){var a=i.health.base_url+"/news-and-events/health-alerts.xml",r={methods:{callFeed:function(e){var i=[],n=this;t.ajax({type:"GET",url:e,dataType:"xml",success:function(e){t(e).find("item").each(function(){var e=t.datepicker.formatDate("@",new Date(t(this).find("pubDate").text().replace(/\s/,"T"))),a="HideHealthAlert-"+t(this).find("id").text()+"-"+e;n.getCookie(a)||i.push({id:t(this).find("id").text(),title:t(this).find("title").text(),link:t(this).find("link").text(),updated_date:e})}),0===i.length?n.show=!1:(n.show=!0,n.items=i)},error:function(t){n.show=!1}})}}},s={methods:{hideAlert:function(e){this.show=!1;var i=this;t.each(this.items,function(t,e){i.setCookie("HideHealthAlert-"+e.id+"-"+e.updated_date,!0,100)})},setCookie:function(t,e,i){var a="";if(i){var r=new Date;r.setTime(r.getTime()+365*i*24*60*60*1e3),a="; expires="+r.toUTCString()}n.cookie=t+"="+(e||"")+a+"; path=/"},getCookie:function(t){for(var e=t+"=",i=n.cookie.split(";"),a=0;a<i.length;a++){for(var r=i[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return null}}};Vue.filter("formatDate",function(e){if(e)return t.datepicker.formatDate("dd MM yy",new Date(parseInt(e)))}),new Vue({el:"#health-alert-ajax-container",data:{items:[],show:!1},created:function(){this.callFeed(a)},mixins:[r,s]})}}}}(jQuery,Drupal,0,this.document);