!function(e,t,i,n){"use strict";var a=["January","February","March","April","May","June","July","August","September","October","November","December"];t.behaviors.ajaxAlert={attach:function(t,i){if("undefined"!=typeof Vue){var r=i.health.base_url+"/news-and-events/health-alerts.xml",s={methods:{callFeed:function(t){var i=[],n=this;e.ajax({type:"GET",url:t,dataType:"xml",success:function(t){e(t).find("item").each(function(){var t=new Date(e(this).find("pubDate").text().replace(/\s/,"T")).getTime(),a="HideHealthAlert-"+e(this).find("id").text()+"-"+t;n.getCookie(a)||i.push({id:e(this).find("id").text(),title:e(this).find("title").text(),link:e(this).find("link").text(),updated_date:t})}),0===i.length?n.show=!1:(n.show=!0,n.items=i)},error:function(e){n.show=!1}})}}},o={methods:{hideAlert:function(t){this.show=!1;var i=this;e.each(this.items,function(e,t){i.setCookie("HideHealthAlert-"+t.id+"-"+t.updated_date,!0,100)})},setCookie:function(e,t,i){var a="";if(i){var r=new Date;r.setTime(r.getTime()+365*i*24*60*60*1e3),a="; expires="+r.toUTCString()}n.cookie=e+"="+(t||"")+a+"; path=/"},getCookie:function(e){for(var t=e+"=",i=n.cookie.split(";"),a=0;a<i.length;a++){for(var r=i[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}}};Vue.filter("formatDate",function(e){if(e){var t=new Date(parseInt(e));return t.getUTCDate()+" "+a[t.getUTCMonth()+1]+" "+t.getUTCFullYear()}}),new Vue({el:"#health-alert-ajax-container",data:{items:[],show:!1},created:function(){this.callFeed(r)},mixins:[s,o]})}}}}(jQuery,Drupal,0,this.document);